
//import com.jogamp.opencl.*;
import org.jocl.*;


public class JOCLTest {
    public static void main(String[] args) {
        // Enable exceptions to handle OpenCL errors
        CL.setExceptionsEnabled(true);

        // Initialize OpenCL
        CLPlatform platform = CLPlatform.getDefault();
        CLDevice device = platform.getBestDevice();
        CLContext context = CLContext.create(device);
        CLCommandQueue queue = context.createDefaultQueue();

        // Create a simple OpenCL program
        String source = "__kernel void hello() {\n" +
                "    printf(\"Hello, JOCL!\\n\");\n" +
                "}";

        // Build the OpenCL program
        CLProgram program = context.createProgram(source);
        program.build();

        // Create and execute the OpenCL kernel
        CLKernel kernel = program.createKernel("hello");
        kernel.enqueueNDRangeKernel(queue, new long[]{1}, null);

        // Wait for the kernel to finish
        queue.finish();

        // Release OpenCL resources
        kernel.release();
        program.release();
        queue.release();
        context.release();
    }
}
